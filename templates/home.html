{% extends "base.html" %}

{% block title %}VidSummarize - AI Video Transcription & Summarization{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
<style>
/* YouTube Caption Warning Styles */
.youtube-warning {
    background: linear-gradient(135deg, #fff3cd 0%, #ffe8a1 100%);
    border-left: 4px solid #ff9800;
    padding: 16px 20px;
    border-radius: 8px;
    margin: 20px 0;
    display: flex;
    gap: 15px;
    align-items: flex-start;
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.15);
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.youtube-warning-icon {
    font-size: 24px;
    flex-shrink: 0;
    line-height: 1;
}

.youtube-warning-content {
    flex: 1;
}

.youtube-warning-title {
    color: #e65100;
    font-weight: 600;
    font-size: 15px;
    margin: 0 0 8px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.youtube-warning-text {
    color: #663c00;
    margin: 0 0 8px 0;
    font-size: 14px;
    line-height: 1.6;
}

.youtube-warning-tip {
    color: #805300;
    font-size: 13px;
    font-style: italic;
    margin: 0;
    padding-top: 8px;
    border-top: 1px solid rgba(255, 152, 0, 0.2);
}
</style>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/fileUpload.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/youtubeHandler.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title animate-fadeIn">
                üé¨ VidSummarize
            </h1>
            <p class="hero-subtitle animate-fadeIn" style="animation-delay: 0.2s;">
                A Multilingual AI-Powered Video Transcription and Summarization Platform
            </p>
        </div>
    </div>
</section>

<!-- Upload Section -->
<section class="upload-section">
    <div class="container">
        <div class="upload-card">
            <h2 class="upload-title">Upload or Paste YouTube Link</h2>
            
            <!-- Upload Method Selection -->
            <div class="upload-methods">
                <button class="upload-method-btn active" id="uploadMethodBtn" data-method="upload">
                    <span class="upload-method-icon">üì§</span>
                    <span class="upload-method-text">Upload Video</span>
                </button>
                <button class="upload-method-btn" id="youtubeMethodBtn" data-method="youtube">
                    <span class="upload-method-icon">üîó</span>
                    <span class="upload-method-text">Paste YouTube Link</span>
                </button>
            </div>
            
            <!-- Upload Content -->
            <div class="upload-content active" id="uploadContent">
                <div class="file-upload" id="fileUploadZone">
                    <input type="file" accept="video/*" id="videoFileInput">
                    <div class="file-upload-icon">üìÅ</div>
                    <div class="file-upload-text">Drop your video here or click to browse</div>
                    <div class="file-upload-hint">Supports MP4, AVI, MOV, WMV, FLV, MKV, WEBM (Max 500MB)</div>
                </div>
                
                <!-- Selected File Info -->
                <div id="fileInfo" class="hidden" style="margin-top: var(--space-lg);">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 id="fileName" style="margin-bottom: var(--space-xs);"></h4>
                                <p id="fileSize" class="text-muted" style="margin: 0; font-size: var(--font-size-sm);"></p>
                            </div>
                            <button class="btn btn-outline btn-sm" id="removeFileBtn">Remove</button>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-lg" id="uploadBtn" style="width: 100%; margin-top: var(--space-lg);">
                        üöÄ Start Processing
                    </button>
                </div>
            </div>
            
            <!-- YouTube Content -->
            <div class="upload-content" id="youtubeContent">
                <!-- YouTube Caption Warning -->
                <div class="youtube-warning">
                    <div class="youtube-warning-icon">‚ö†Ô∏è</div>
                    <div class="youtube-warning-content">
                        <div class="youtube-warning-title">
                            <span>Online Version Notice</span>
                        </div>
                        <p class="youtube-warning-text">
                            <strong>Caption-Only Processing:</strong> This online version only supports YouTube videos that have captions (auto-generated or manual). Videos without captions cannot be processed here.
                        </p>
                        <p class="youtube-warning-tip">
                            üí° <strong>Tip:</strong> For videos without captions, please download the video to your computer and use the "Upload Video" tab for full transcription processing.
                        </p>
                    </div>
                </div>
                
                <!-- YouTube URL Input Form -->
                <form action="/process_youtube" method="POST" id="youtubeForm">
                    <div class="input-group">
                        <input 
                            type="url" 
                            class="input" 
                            id="youtubeUrlInput" 
                            name="youtube_url"
                            placeholder="https://www.youtube.com/watch?v=..."
                            required
                        >
                        <button type="submit" class="btn btn-primary" id="youtubeSubmitBtn">
                            üöÄ Process
                        </button>
                    </div>
                </form>
                <p class="text-muted text-center" style="margin-top: var(--space-md); font-size: var(--font-size-sm);">
                    Paste any YouTube video URL to get started
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section" id="features">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">‚ú® Features</h2>
            <p class="section-subtitle">
                Everything you need to transform videos into accessible, searchable content
            </p>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <span class="feature-icon">üìÑ</span>
                <h3 class="feature-title">Transcription</h3>
                <p class="feature-description">
                    Convert speech to text using Whisper ASR. High accuracy multilingual transcription.
                </p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ü§ñ</span>
                <h3 class="feature-title">Summarization</h3>
                <p class="feature-description">
                    Generate concise summaries using BART/T5. Extract key insights automatically.
                </p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">üåç</span>
                <h3 class="feature-title">Multilingual Support</h3>
                <p class="feature-description">
                    Auto-detect and handle multiple languages. Supports global content seamlessly.
                </p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">üíæ</span>
                <h3 class="feature-title">Download Output</h3>
                <p class="feature-description">
                    Get transcript and summary in TXT/PDF format. Easy to share and reference.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section" id="how-it-works">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">üîß How It Works</h2>
            <p class="section-subtitle">
                Simple, fast, and powered by cutting-edge AI
            </p>
        </div>
        
        <div class="steps-container">
            <div class="step-card">
                <div class="step-number">1</div>
                <h3 class="step-title">Upload or Link</h3>
                <p class="step-description">
                    Upload your video file or paste a YouTube URL
                </p>
            </div>
            
            <div class="step-card">
                <div class="step-number">2</div>
                <h3 class="step-title">AI Processing</h3>
                <p class="step-description">
                    Our AI extracts audio, transcribes, and summarizes
                </p>
            </div>
            
            <div class="step-card">
                <div class="step-number">3</div>
                <h3 class="step-title">Download Results</h3>
                <p class="step-description">
                    Get your transcript and summary in seconds
                </p>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="features-section" id="about" style="background: var(--color-bg-primary);">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">üìö About VidSummarize</h2>
            <p class="section-subtitle" style="max-width: 800px;">
                VidSummarize aims to democratize access to video content by automatically generating 
                high-quality transcripts, summaries, and chapter breakdowns. Perfect for learners, 
                researchers, and content creators who need quick access to key insights without 
                watching entire videos.
            </p>
        </div>
        
        <div class="card" style="max-width: 900px; margin: var(--space-3xl) auto 0; text-align: center;">
            <h3 style="margin-bottom: var(--space-lg);">üöÄ Built With Modern Technology</h3>
            <div style="display: flex; flex-wrap: wrap; gap: var(--space-md); justify-content: center;">
                <span class="badge badge-primary">Python Flask</span>
                <span class="badge badge-primary">OpenAI Whisper</span>
                <span class="badge badge-primary">HuggingFace BART</span>
                <span class="badge badge-primary">yt-dlp</span>
                <span class="badge badge-primary">FFmpeg</span>
            </div>
        </div>
    </div>
</section>

{% endblock %}
